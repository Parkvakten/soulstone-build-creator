<button class="btn btn-outline-light button" *ngIf="this.currentBuild" (click)="goBack()" >Create / Select Build</button>
<button class="btn btn-outline-light button" (click)="previousStep()" *ngIf="this.currentBuild && this.currentBuild.stepNumber > 0">Previous step</button>
<button class="btn btn-outline-light button" (click)="nextStep()" *ngIf="checkNextButton()" >Next step</button>
<div class="first-step-container" *ngIf="!this.currentBuild" >
    <div class="div-left">
        <h3 class="title">Create build</h3>
    <button (click)="addBuild()" class="btn btn-outline-light button">Create new build</button>
</div>

    <div class="div-right">
        <h3 class="title">Select build</h3>     
    
        <app-buil-container [builds]="$getBuilds | async" ></app-buil-container>
       
    
</div>
</div>
<div *ngIf="this.currentBuild">
    
    <div *ngIf="this.currentBuild.stepNumber === 0 || this.currentBuild.stepNumber ===  1">
        <h3 class="title">{{this.currentBuild.stepNumber === 0 ? 'Select character' : 'Select weapon'}}</h3>
    <div *ngFor="let character of $getCharacters | async; let i = index" >
        <app-character-container (click)="setSelected(i)" [selected]="this.selectedIndex === i" [currentBuild]="this.currentBuild" [character]="character" [stepNumber]="this.currentBuild.stepNumber"></app-character-container>
        
    </div>
</div>

<input class="filter-field" *ngIf="this.currentBuild.stepNumber === 2 || this.currentBuild.stepNumber === 3"  type="text" name="search" [placeholder]="this.currentBuild.stepNumber === 2 ? '...Search skill name' : '...Search rune name'" [(ngModel)]="this.filterString">
<div *ngIf="this.currentBuild.stepNumber === 2" class="grid-container" >
    
    <div *ngFor="let skill of $getSkills | async  | filter:filterString:'activeSkill':'title'; let i = index" >
        <app-skill-container (click)="setSelectedSkillIndex(i)" [skill]="skill" [currentBuild]="this.currentBuild" [selected]="this.selectedSkillIndex === i" ></app-skill-container>
    </div>
</div>

<div *ngIf="this.currentBuild.stepNumber === 3" class="grid-container" >
    <div *ngFor="let rune of $getRunes | async | filter:filterString:'title'; let i = index" >
        <app-rune-container (click)="setSelectedRuneIndex(i)" [rune]="rune" [currentBuild]="this.currentBuild" [selected]="this.selectedRuneIndex === i" ></app-rune-container>
    </div>
</div>
<div *ngIf="this.currentBuild.stepNumber === 4 " >
    <button (click)="saveBuild()" >Save build</button>
    <app-build-summary [build]="this.currentBuild" ></app-build-summary>
</div>
</div>
